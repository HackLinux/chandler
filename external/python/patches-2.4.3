--- Python-2.4.3/Makefile.pre.in	2006-03-13 08:08:41.000000000 -0500
+++ Python-2.4.3-patched/Makefile.pre.in	2006-04-13 10:01:56.000000000 -0400
@@ -663,9 +663,9 @@
 PLATMACPATH=:plat-mac:plat-mac/lib-scriptpackages
 LIBSUBDIRS=	lib-old lib-tk site-packages test test/output test/data \
 		test/decimaltestdata \
 		encodings email email/test email/test/data compiler hotshot \
-		logging bsddb bsddb/test csv idlelib idlelib/Icons \
+		logging csv idlelib idlelib/Icons \
 		distutils distutils/command distutils/tests $(XMLLIBSUBDIRS) \
 		curses $(MACHDEPS)
 libinstall:	$(BUILDPYTHON) $(srcdir)/Lib/$(PLATDIR)
 	@for i in $(SCRIPTDIR) $(LIBDEST); \
--- Python-2.4.3/PC/getpathp.c	2005-07-22 17:48:52.000000000 -0400
+++ Python-2.4.3-patched/PC/getpathp.c	2006-04-13 09:59:43.000000000 -0400
@@ -488,10 +488,15 @@
 		zip_path[0] = 0;
 	}
  
 	skiphome = pythonhome==NULL ? 0 : 1;
+#if 0
+        /* Chandler doesn't want to grab registry info because we want to
+         * ignore extensions that the user already has installed.
+         */
 	machinepath = getpythonregpath(HKEY_LOCAL_MACHINE, skiphome);
 	userpath = getpythonregpath(HKEY_CURRENT_USER, skiphome);
+#endif
 	/* We only use the default relative PYTHONPATH if we havent
 	   anything better to use! */
 	skipdefault = envpath!=NULL || pythonhome!=NULL || \
 		      machinepath!=NULL || userpath!=NULL;
--- Python-2.4.3/setup.py	2006-03-23 14:07:46.000000000 -0500
+++ Python-2.4.3-patched/setup.py	2006-04-13 10:02:27.000000000 -0400
@@ -492,10 +492,10 @@
         # of available releases can be found at
         #
         # http://www.sleepycat.com/update/index.html
 
-        max_db_ver = (4, 4)
-        min_db_ver = (3, 2)
+        max_db_ver = (0, 0)
+        min_db_ver = (0, 0)
         db_setup_debug = False   # verbose debug prints from this script?
 
         # construct a list of paths to look for the header file in on
         # top of the normal inc_dirs.
--- Python-2.4.3/configure	2006-02-17 03:39:55.000000000 -0500
+++ Python-2.4.3-patched/configure	2006-05-24 16:02:15.000000000 -0400
@@ -10217,6 +10217,14 @@
   Darwin/[01234567].*)
     OTHER_LIBTOOL_OPT="-prebind -seg1addr 0x10000000"
     ;;
+  Darwin/8.*)
+    OTHER_LIBTOOL_OPT=""
+    if test "${with_pydebug+set}" = set; then
+      if test "$with_pydebug" != no; then
+        OTHER_LIBTOOL_OPT="-undefined dynamic_lookup"
+      fi
+    fi
+    ;;
   Darwin/*)
     OTHER_LIBTOOL_OPT=""
     ;;
@@ -10225,7 +10233,7 @@
 
 case $ac_sys_system/$ac_sys_release in
   Darwin/[01234567].*)
-    LIBTOOL_CRUFT="-framework System -lcc_dynamic -arch_only ppc"
+    LIBTOOL_CRUFT="-framework System -lcc_dynamic -arch_only $(ARCH)"
     LIBTOOL_CRUFT=$LIBTOOL_CRUFT' -install_name $(PYTHONFRAMEWORKINSTALLDIR)/Versions/$(VERSION)/$(PYTHONFRAMEWORK)'
     LIBTOOL_CRUFT=$LIBTOOL_CRUFT' -compatibility_version $(VERSION) -current_version $(VERSION)';;
   Darwin/*)
@@ -10236,7 +10244,7 @@
         else
             LIBTOOL_CRUFT=""
     fi
-    LIBTOOL_CRUFT=$LIBTOOL_CRUFT' -lSystem -lSystemStubs -arch_only ppc'
+    LIBTOOL_CRUFT=$LIBTOOL_CRUFT' -lSystem -lSystemStubs -arch_only $(ARCH)'
     LIBTOOL_CRUFT=$LIBTOOL_CRUFT' -install_name $(PYTHONFRAMEWORKINSTALLDIR)/Versions/$(VERSION)/$(PYTHONFRAMEWORK)'
     LIBTOOL_CRUFT=$LIBTOOL_CRUFT' -compatibility_version $(VERSION) -current_version $(VERSION)';;
 esac
--- Python-2.4.3/Mac/OSX/Makefile	2005-01-06 17:33:55.000000000 -0500
+++ Python-2.4.3-patched/Mac/OSX/Makefile	2006-05-24 16:13:43.000000000 -0400
@@ -59,8 +59,8 @@
 compileall=$(srcdir)/Lib/compileall.py
 bundlebuilder=$(srcdir)/Lib/plat-mac/bundlebuilder.py
 
-installapps: install_PythonLauncher install_Python install_BuildApplet install_IDE \
-	install_IDLE install_PackageManager checkapplepython
+installapps: install_Python
+
 
 install_PythonLauncher:
 	cd $(srcdir)/Mac/OSX/PythonLauncher/PythonLauncher.pbproj ; \
@@ -234,8 +234,9 @@
 		done; \
 	done
 
-
+ifeq ($(ARCH),ppc)
 	$(BUILDPYTHON) $(CACHERSRC) -v $(DESTDIR)$(MACLIBDEST) $(DESTDIR)$(MACTOOLSDEST)
+endif
 	$(BUILDPYTHON) -Wi -tt $(compileall) -d $(MACTOOLSDEST) -x badsyntax $(DESTDIR)$(MACTOOLSDEST)
 	$(BUILDPYTHON) -O -Wi -tt $(compileall) -d $(MACTOOLSDEST) -x badsyntax $(DESTDIR)$(MACTOOLSDEST)
 
