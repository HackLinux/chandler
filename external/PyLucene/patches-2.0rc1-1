--- PyLucene-src-1.9rc1-2/Makefile	2005-12-12 15:06:00.000000000 -0800
+++ PyLucene-src-1.9rc1-2-patched/Makefile	2005-12-12 15:11:53.000000000 -0800
@@ -703,6 +703,11 @@
 	mkdir -p $(PREFIX_DB)/lib
 	install $(LIBDB_JAVA_LIB) $(PREFIX_DB)/lib
 endif
+	install $(GCJ_HOME)/lib/libgcj.so.$(LIBGCJ_VER) $(PREFIX)/lib
+	install $(GCJ_HOME)/lib/libstdc++.so.6 $(PREFIX)/lib
+	install $(GCJ_HOME)/lib/libgcc_s.so.1 $(PREFIX)/lib
+	strip $(PREFIX)/lib/libgcj.so.$(LIBGCJ_VER)
+	strip $(PREFIX)/lib/libstdc++.so.6
 else
 
 ifeq ($(OS),FreeBSD)
@@ -717,7 +722,8 @@
 install::
 	install $(GCJ_HOME)/bin/libiconv-2.dll $(PYTHON_SITE)
 ifdef DB
-	install $(LIBDB_JAVA_LIB) $(PREFIX_DB)/build_win32/$(BINDIR)
+	mkdir -p $(PREFIX)/bin
+	install $(LIBDB_JAVA_LIB) $(PREFIX)/bin
 endif
 endif
 endif
--- PyLucene-src-2.0rc1-1/test/test_DbDirectory.py	2005-01-31 15:34:23.000000000 -0800
+++ PyLucene-src-2.0rc1-1-patched/test/test_DbDirectory.py	2006-03-29 13:16:51.000000000 -0800
@@ -96,8 +96,11 @@
 if __name__ == "__main__":
     try:
         DbDirectory
+        from bsddb import db
     except NameError:
         pass
+    except ImportError:
+        pass
     else:
         import sys
         if '-loop' in sys.argv:
